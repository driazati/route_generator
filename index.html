<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Route Generator</title>

    <!-- <link rel="stylesheet" href="css/main.css" /> -->
    <link rel="icon" href="favicon.ico" />
    <script src="kMeans.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" href="main.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://d3js.org/d3-dsv.v1.min.js"></script>
    <script src="https://d3js.org/d3-fetch.v1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/7.0.0/math.min.js"></script>
  </head>

  <body>
    <h1>Route Generator</h1>
    <p>Upload a .csv file to see automatic route groupings</p>

    <div class="form-group">
      <label for="bing_api_key">Bing Maps API Key</label>
      <input type="email" class="form-control" id="bing_api_key" value=''>
      <small style="color: #060606 !important" id="emailHelp" class="form-text text-muted">Needed to calculate driving distances <a href="https://www.bingmapsportal.com/" target="_blank">Create one here</a></small>
    </div>
    <div class='details'>
      <span id='details_span'>Options <span id='arrow'>â–¶</span></span>
      <div id='details_options' hidden>
        <div class="form-group">
          <label for="address_field">Address field</label>
          <input type="email" class="form-control" id="address_field" value="Computed Address">
          <small style="color: #060606 !important" class="form-text text-muted">Header in CSV for the address column</small>
        </div>
        <div class="form-group">
          <label for="row_filter">Row Filter</label>
          <input type="email" class="form-control" id="row_filter" value="row['Days since delivery'] > 30">
          <small style="color: #060606 !important" class="form-text text-muted">JavaScript expression for which rows to keep (exposes `row` object)</small>
        </div>
        <div class="form-group">
          <label for="group_size">Target Group Size</label>
          <input type="email" class="form-control" id="target_group_size" value="5">
          <small style="color: #060606 !important" class="form-text text-muted">The number of groups produced will be near (number of stops) / (target group size)</small>
        </div>
        <div class="form-group">
          <label for="group_size">City</label>
          <input type="email" class="form-control" id="city" value="atlanta">
        </div>
        <div class="form-group">
          <label for="group_size">State</label>
          <input type="email" class="form-control" id="state" value="GA">
        </div>
      </div>
    </div>
    <input id="file" disabled type="file" class="btn btn-primary" accept=".csv">
    <button id="calculate" type="button" disabled class="btn btn-info">Calculate groupings</button>
    <button id="clipboard" type="button" class="btn btn-secondary">Copy to clipboard</button>


    <div><span> Status: </span><span style="display: inline-block;" id='status'>no file chosen</span>

    <div id="groups"></div>
    <script src="bing.js"></script>
    <script src="generator.js"></script>
    <script src="main.js"></script>
  </body>
</html>